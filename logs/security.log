2025-06-04 04:44:33,237 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 04:44:33,237 - INFO - app.core.security - Redis connection parameters: host=127.0.0.1, port=6379, db=0, password=<not set>
2025-06-04 04:44:33,251 - INFO - app.core.security - Connected to Redis successfully.
2025-06-04 04:44:33,303 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 04:44:33,303 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 04:44:33,303 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 04:44:33,303 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 14, 33, 303381), 'iat': datetime.datetime(2025, 6, 4, 11, 44, 33, 303383)}
2025-06-04 04:44:33,304 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTAzOTI3MywiaWF0IjoxNzQ5MDM3NDczfQ.N-6WGUFplST2lHTHTSGwtjOljpHEH9-Y_up6YW5PYQo

2025-06-04 04:44:33,436 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 04:44:33,436 - INFO - app.core.security - Redis connection parameters: host=127.0.0.1, port=6379, db=0, password=<not set>
2025-06-04 04:44:33,439 - INFO - app.core.security - Connected to Redis successfully.
2025-06-04 04:44:33,492 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 04:44:33,492 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 04:44:33,492 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 04:44:33,492 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 14, 33, 492393), 'iat': datetime.datetime(2025, 6, 4, 11, 44, 33, 492398)}
2025-06-04 04:44:33,492 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTAzOTI3MywiaWF0IjoxNzQ5MDM3NDczfQ.N-6WGUFplST2lHTHTSGwtjOljpHEH9-Y_up6YW5PYQo

2025-06-04 04:45:31,225 - INFO - app.core.security - Closing Redis connection...
2025-06-04 04:45:31,226 - INFO - app.core.security - Redis connection closed.
2025-06-04 04:46:09,923 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 04:46:09,923 - INFO - app.core.security - Redis connection parameters: host=127.0.0.1, port=6379, db=0, password=<not set>
2025-06-04 04:46:09,925 - INFO - app.core.security - Connected to Redis successfully.
2025-06-04 04:46:09,992 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 04:46:09,992 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 04:46:09,992 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 04:46:09,992 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 16, 9, 992250), 'iat': datetime.datetime(2025, 6, 4, 11, 46, 9, 992254)}
2025-06-04 04:46:09,992 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTAzOTM2OSwiaWF0IjoxNzQ5MDM3NTY5fQ.woiH7bjCqBVhImwuXKA9eRKoO1esVD4AmDwBpLBZzWI

2025-06-04 04:46:42,703 - INFO - app.core.security - Closing Redis connection...
2025-06-04 04:46:42,704 - INFO - app.core.security - Closing Redis connection...
2025-06-04 04:46:42,705 - INFO - app.core.security - Redis connection closed.
2025-06-04 04:46:42,705 - INFO - app.core.security - Redis connection closed.
2025-06-04 04:46:45,215 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 04:46:45,215 - INFO - app.core.security - Redis connection parameters: host=127.0.0.1, port=6379, db=0, password=<not set>
2025-06-04 04:46:45,218 - INFO - app.core.security - Connected to Redis successfully.
2025-06-04 04:46:45,247 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 04:46:45,247 - INFO - app.core.security - Redis connection parameters: host=127.0.0.1, port=6379, db=0, password=<not set>
2025-06-04 04:46:45,250 - INFO - app.core.security - Connected to Redis successfully.
2025-06-04 04:46:45,319 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 04:46:45,319 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 04:46:45,319 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 04:46:45,319 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 16, 45, 319537), 'iat': datetime.datetime(2025, 6, 4, 11, 46, 45, 319542)}
2025-06-04 04:46:45,320 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTAzOTQwNSwiaWF0IjoxNzQ5MDM3NjA1fQ.7UMW82ZXSgQtarvDruSTfWGFb6jJojhMBJq-h76DZFU

2025-06-04 04:46:45,330 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 04:46:45,330 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 04:46:45,330 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 04:46:45,330 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 16, 45, 330627), 'iat': datetime.datetime(2025, 6, 4, 11, 46, 45, 330629)}
2025-06-04 04:46:45,331 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTAzOTQwNSwiaWF0IjoxNzQ5MDM3NjA1fQ.7UMW82ZXSgQtarvDruSTfWGFb6jJojhMBJq-h76DZFU

2025-06-04 04:49:53,058 - INFO - app.core.security - Closing Redis connection...
2025-06-04 04:49:53,059 - INFO - app.core.security - Closing Redis connection...
2025-06-04 04:49:53,059 - INFO - app.core.security - Redis connection closed.
2025-06-04 04:49:53,059 - INFO - app.core.security - Redis connection closed.
2025-06-04 04:49:55,522 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 04:49:55,522 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 04:49:55,526 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 04:49:55,526 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 04:49:55,618 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 04:49:55,618 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 04:49:55,618 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 04:49:55,618 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 19, 55, 618684), 'iat': datetime.datetime(2025, 6, 4, 11, 49, 55, 618688)}
2025-06-04 04:49:55,618 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 04:49:55,619 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 04:49:55,619 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 04:49:55,619 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 19, 55, 618928), 'iat': datetime.datetime(2025, 6, 4, 11, 49, 55, 618932)}
2025-06-04 04:49:55,619 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTAzOTU5NSwiaWF0IjoxNzQ5MDM3Nzk1fQ.y1MFoMBs_x9ysaEOw54cMKRc5qLXZ7cZOggFXRsgJqE

2025-06-04 04:49:55,619 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTAzOTU5NSwiaWF0IjoxNzQ5MDM3Nzk1fQ.y1MFoMBs_x9ysaEOw54cMKRc5qLXZ7cZOggFXRsgJqE

2025-06-04 04:50:04,541 - INFO - app.core.security - Closing Redis connection...
2025-06-04 04:50:04,542 - INFO - app.core.security - Redis connection closed.
2025-06-04 04:50:19,486 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 04:50:19,486 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 04:50:19,567 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 04:50:19,567 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 04:50:19,567 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 04:50:19,567 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 20, 19, 567059), 'iat': datetime.datetime(2025, 6, 4, 11, 50, 19, 567064)}
2025-06-04 04:50:19,568 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTAzOTYxOSwiaWF0IjoxNzQ5MDM3ODE5fQ.gySy4hfkT_Ew0tMct_fO1F0PEIzZgLr0OszOtJ5izQM

2025-06-04 04:52:38,754 - INFO - app.core.security - Closing Redis connection...
2025-06-04 04:52:38,755 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:00:00,018 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:00:00,018 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:00:00,018 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:00:00,018 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 30, 0, 18076), 'iat': datetime.datetime(2025, 6, 4, 12, 0, 0, 18085)}
2025-06-04 05:00:00,019 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MDIwMCwiaWF0IjoxNzQ5MDM4NDAwfQ.DfWmCmr7xDBW3OKFzF_yyZKpECp7knVmtp10a1W2Khs

2025-06-04 05:06:13,243 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:06:13,244 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:06:13,244 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:06:13,244 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 4, 12, 36, 13, 243875), 'iat': datetime.datetime(2025, 6, 4, 12, 6, 13, 243879)}
2025-06-04 05:06:13,244 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkwNDA1NzMsImlhdCI6MTc0OTAzODc3M30.sgKLX90sVDpZ_GxHZP0lPTj_XuiV-Am0n79CfDvOSr8

2025-06-04 05:06:13,244 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk2NDM1NzMsImlhdCI6MTc0OTAzODc3M30.Iiq1swaYJ_rHUOOEwQ0lPyLAsOu9KGZy1jsICFD_Ixs, Expiry (seconds): 604800
2025-06-04 05:06:13,279 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-04 05:06:26,561 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:06:26,561 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:06:26,562 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:12:33,988 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:12:33,988 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:12:33,989 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:12:33,989 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:12:33,989 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:12:34,012 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:12:34,013 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:14:22,082 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:14:22,084 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:14:25,302 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:14:25,302 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:14:25,403 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:14:25,403 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:14:25,403 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:14:25,403 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 44, 25, 403160), 'iat': datetime.datetime(2025, 6, 4, 12, 14, 25, 403163)}
2025-06-04 05:14:25,403 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MTA2NSwiaWF0IjoxNzQ5MDM5MjY1fQ.Yq1P3UVaqqFk0kvxduxACZbzF9vhO8XLLxtC1AMjWg8

2025-06-04 05:14:48,923 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:14:48,923 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:14:48,924 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:14:48,924 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:14:48,924 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:14:48,959 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:14:48,960 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:18:15,957 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:18:15,957 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:18:15,958 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:18:15,958 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:18:15,958 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:18:15,958 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:18:15,958 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:18:15,959 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:18:15,959 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:18:15,959 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:18:15,966 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:18:15,966 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:18:15,967 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:19:09,969 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:19:09,970 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:19:12,860 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:19:12,861 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:19:12,954 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:19:12,954 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:19:12,954 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:19:12,954 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 49, 12, 954736), 'iat': datetime.datetime(2025, 6, 4, 12, 19, 12, 954740)}
2025-06-04 05:19:12,955 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MTM1MiwiaWF0IjoxNzQ5MDM5NTUyfQ.MYdNE1JmbMiuIvezjXi83KoiM4ueO9HMqNdrFBv5UM8

2025-06-04 05:20:26,107 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:20:26,108 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:20:27,991 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:20:27,991 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:20:28,104 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:20:28,104 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:20:28,104 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:20:28,104 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 50, 28, 104231), 'iat': datetime.datetime(2025, 6, 4, 12, 20, 28, 104234)}
2025-06-04 05:20:28,104 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MTQyOCwiaWF0IjoxNzQ5MDM5NjI4fQ.TJNUhThZv2Gko8gDU7XewFwzZ-QAqU7QfxkI7gWFgM4

2025-06-04 05:20:33,067 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:20:33,068 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:20:35,043 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:20:35,043 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:20:35,131 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:20:35,131 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:20:35,131 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:20:35,131 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 50, 35, 131167), 'iat': datetime.datetime(2025, 6, 4, 12, 20, 35, 131169)}
2025-06-04 05:20:35,131 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MTQzNSwiaWF0IjoxNzQ5MDM5NjM1fQ.Gct4uGp-ZOezuHTKBQAcHOFPaoGpYjq8Gt22D5OPkt8

2025-06-04 05:21:27,921 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:21:27,921 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:21:27,922 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:21:27,922 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:21:27,922 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:21:27,922 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:21:27,922 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:21:27,923 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:21:27,923 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:21:27,923 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:21:27,965 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:21:27,965 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:21:27,965 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:21:51,394 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:21:51,395 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:21:53,579 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:21:53,579 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:21:53,690 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:21:53,690 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:21:53,690 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:21:53,690 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 51, 53, 690569), 'iat': datetime.datetime(2025, 6, 4, 12, 21, 53, 690571)}
2025-06-04 05:21:53,691 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MTUxMywiaWF0IjoxNzQ5MDM5NzEzfQ.pSKe6y_biPOM88sxIZiYhXSxHaoN0QrmNruayfwXVuQ

2025-06-04 05:22:36,437 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:22:36,437 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:22:36,438 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:22:36,438 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:22:36,438 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:22:36,438 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:22:36,438 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:22:36,438 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:22:36,438 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:22:36,438 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:22:36,512 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:22:36,513 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:22:36,513 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:27:18,314 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:27:18,315 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:27:20,849 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:27:20,849 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:27:20,995 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:27:20,995 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:27:20,995 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:27:20,995 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 57, 20, 995267), 'iat': datetime.datetime(2025, 6, 4, 12, 27, 20, 995270)}
2025-06-04 05:27:20,995 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MTg0MCwiaWF0IjoxNzQ5MDQwMDQwfQ.9vgr-B_oqHHgAAKnoLuweiicHrixHYCeHrXT0mEm0H4

2025-06-04 05:27:22,960 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:27:22,962 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:27:24,929 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:27:24,930 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:27:25,027 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:27:25,027 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:27:25,027 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:27:25,027 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 57, 25, 27821), 'iat': datetime.datetime(2025, 6, 4, 12, 27, 25, 27824)}
2025-06-04 05:27:25,028 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MTg0NSwiaWF0IjoxNzQ5MDQwMDQ1fQ.a0JBJZnkzvxXmqyhrXSvmTOZDvYLzTgHOxE5pRjyNoo

2025-06-04 05:28:05,816 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:28:05,816 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:28:05,816 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:28:05,816 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:28:05,817 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:28:05,817 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:28:05,817 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:28:05,817 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:28:05,817 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:28:05,817 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:28:05,854 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:28:05,854 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:28:05,854 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:28:38,631 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:28:38,632 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:28:40,705 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:28:40,705 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:28:40,835 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:28:40,835 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:28:40,835 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:28:40,835 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 58, 40, 835671), 'iat': datetime.datetime(2025, 6, 4, 12, 28, 40, 835673)}
2025-06-04 05:28:40,836 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MTkyMCwiaWF0IjoxNzQ5MDQwMTIwfQ.HTNMTpn52vGCtxYDJVc0GDZYju_jO8gvQERjkgBfs-I

2025-06-04 05:29:28,578 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:29:28,578 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:29:28,579 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:29:28,579 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:29:28,579 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:29:28,579 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:29:28,580 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:29:28,580 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:29:28,580 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:29:28,580 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:29:28,618 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:29:28,619 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:29:28,619 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:30:00,004 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:30:00,004 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:30:00,004 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:30:00,004 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 0, 0, 4481), 'iat': datetime.datetime(2025, 6, 4, 12, 30, 0, 4487)}
2025-06-04 05:30:00,005 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MjAwMCwiaWF0IjoxNzQ5MDQwMjAwfQ.hEQZw1bJpaSsmEWostERLjdcPnzmzFTVRrfgxQSat04

2025-06-04 05:32:01,502 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:32:01,503 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:32:03,717 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:32:03,717 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:32:03,797 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:32:03,797 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:32:03,797 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:32:03,797 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 2, 3, 797015), 'iat': datetime.datetime(2025, 6, 4, 12, 32, 3, 797021)}
2025-06-04 05:32:03,797 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MjEyMywiaWF0IjoxNzQ5MDQwMzIzfQ.Xf-Ew5IZ5VfiF-zmqgvX4Y2GR3_MEYrZst8VquWUnBw

2025-06-04 05:32:42,020 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:32:42,020 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:32:42,020 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:32:42,020 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:32:42,021 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:32:42,021 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:32:42,021 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:32:42,021 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:32:42,021 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:32:42,021 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:32:42,066 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:32:42,066 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:32:42,066 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:35:54,331 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:35:54,332 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:35:56,464 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:35:56,464 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:35:56,584 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:35:56,584 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:35:56,584 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:35:56,584 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 5, 56, 584163), 'iat': datetime.datetime(2025, 6, 4, 12, 35, 56, 584165)}
2025-06-04 05:35:56,584 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MjM1NiwiaWF0IjoxNzQ5MDQwNTU2fQ._B1hcLHDi-fP6AzLD0c5DO_qpnCLXnWvFe_Eda3XWqU

2025-06-04 05:36:39,487 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:36:39,488 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:36:39,489 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-04 05:36:39,495 - ERROR - app.core.security - Authentication error in get_user_from_service_or_user_token: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 358, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-04 05:36:53,537 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:36:53,537 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:36:53,537 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:36:53,537 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 4, 13, 6, 53, 537142), 'iat': datetime.datetime(2025, 6, 4, 12, 36, 53, 537150)}
2025-06-04 05:36:53,537 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkwNDI0MTMsImlhdCI6MTc0OTA0MDYxM30.d0eoPTauip4ooAn5wCcNfyaBhknveRFQyJj8eQSdEsM

2025-06-04 05:36:53,538 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk2NDU0MTMsImlhdCI6MTc0OTA0MDYxM30.sWPy0aTkOqdj3mNh7P_hD9OS3jIXm8mQ2piIZROLRLE, Expiry (seconds): 604800
2025-06-04 05:36:53,543 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-04 05:37:07,575 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:37:07,576 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:37:07,576 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:37:07,576 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:37:07,576 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:37:07,576 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:37:07,577 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:37:07,577 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:37:07,577 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:37:07,577 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:37:07,586 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:37:07,586 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:37:07,586 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:40:03,245 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:40:03,246 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:40:05,288 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:40:05,288 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:40:05,386 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:40:05,386 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:40:05,386 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:40:05,386 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 10, 5, 386724), 'iat': datetime.datetime(2025, 6, 4, 12, 40, 5, 386727)}
2025-06-04 05:40:05,387 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MjYwNSwiaWF0IjoxNzQ5MDQwODA1fQ.x_GTKw9nr5TZf1xUTZfWHV-Qx8btdmTfpi1YaxUGfyY

2025-06-04 05:41:07,926 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:41:07,926 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:41:07,926 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:41:07,926 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:41:07,926 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:41:07,926 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:41:07,926 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:41:07,927 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:41:07,927 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:41:07,927 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:41:07,972 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:41:07,972 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:41:07,972 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:42:10,059 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:42:10,059 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:42:12,156 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:42:12,157 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:42:12,263 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:42:12,263 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:42:12,263 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:42:12,263 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 12, 12, 263260), 'iat': datetime.datetime(2025, 6, 4, 12, 42, 12, 263267)}
2025-06-04 05:42:12,264 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MjczMiwiaWF0IjoxNzQ5MDQwOTMyfQ.klKADCh8VYx8GFuDhApGjksY-yWk5gPO1sj5CwQ4pC4

2025-06-04 05:42:43,394 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:42:43,395 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:42:43,395 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:42:43,395 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:42:43,395 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:42:43,395 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:42:43,395 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:42:43,395 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:42:43,395 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:42:43,395 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:42:43,436 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:42:43,436 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:42:43,436 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:43:58,065 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:43:58,066 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:44:10,062 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:44:10,062 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:44:10,193 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:44:10,193 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:44:10,193 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:44:10,193 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 14, 10, 193029), 'iat': datetime.datetime(2025, 6, 4, 12, 44, 10, 193031)}
2025-06-04 05:44:10,193 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0Mjg1MCwiaWF0IjoxNzQ5MDQxMDUwfQ.i_N6SKHsk0UVAW-iyyKAtAIz_mScvAGieT0nEzW4XLI

2025-06-04 05:45:25,614 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:45:25,615 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:45:27,653 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:45:27,653 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:45:27,742 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:45:27,742 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:45:27,742 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:45:27,743 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 15, 27, 742851), 'iat': datetime.datetime(2025, 6, 4, 12, 45, 27, 742856)}
2025-06-04 05:45:27,743 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MjkyNywiaWF0IjoxNzQ5MDQxMTI3fQ.PLGom6E7qeNoKzX-zL6_4D_iQuWreWtPUnIJbepfvDc

2025-06-04 05:45:50,478 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:45:50,479 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:45:50,480 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:45:50,480 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:45:50,480 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:45:50,480 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:45:50,480 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:45:50,480 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:45:50,481 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:45:50,481 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:45:50,547 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:45:50,547 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:45:50,547 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:47:27,145 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:47:27,147 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:49:29,282 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:49:29,283 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:49:29,413 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:49:29,413 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:49:29,414 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:49:29,414 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 19, 29, 413866), 'iat': datetime.datetime(2025, 6, 4, 12, 49, 29, 413870)}
2025-06-04 05:49:29,414 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MzE2OSwiaWF0IjoxNzQ5MDQxMzY5fQ.2Jl3dNWuhFH4AlTk_9htE5BM0Ei_n1Tbf5WKbQBBma0

2025-06-04 05:49:31,188 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:49:31,188 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:49:31,188 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:49:31,188 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:49:31,188 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:49:31,188 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:49:31,188 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:49:31,188 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:49:31,188 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:49:31,188 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:49:31,252 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:49:31,252 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:49:31,252 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:49:44,158 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:49:44,158 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:49:44,159 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:49:44,159 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:49:44,159 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:49:44,159 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:49:44,159 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:49:44,159 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:49:44,159 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:49:44,160 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:49:44,168 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:49:44,169 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:49:44,169 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:52:03,240 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:52:03,240 - INFO - app.core.security - Redis connection closed.
2025-06-04 06:02:00,645 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 06:02:00,646 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 06:02:00,731 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 06:02:00,731 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 06:02:00,731 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 06:02:00,731 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 32, 0, 731760), 'iat': datetime.datetime(2025, 6, 4, 13, 2, 0, 731763)}
2025-06-04 06:02:00,732 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MzkyMCwiaWF0IjoxNzQ5MDQyMTIwfQ.o-W374S8QsfEsjfXbRbN8kWAGmdnxmtX-gDC3CMqX_E

2025-06-04 06:04:32,579 - INFO - app.core.security - Closing Redis connection...
2025-06-04 06:04:32,580 - INFO - app.core.security - Redis connection closed.
2025-06-04 06:05:03,802 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 06:05:03,803 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 06:05:03,928 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 06:05:03,928 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 06:05:03,928 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 06:05:03,928 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 35, 3, 928822), 'iat': datetime.datetime(2025, 6, 4, 13, 5, 3, 928826)}
2025-06-04 06:05:03,929 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0NDEwMywiaWF0IjoxNzQ5MDQyMzAzfQ.99BpNHb9BIWR0T_ngM7mfnWHU0abZMlhYZM6B2gLtqw

2025-06-04 06:05:16,606 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 06:05:16,606 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 06:05:16,606 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 06:05:16,606 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 06:05:16,606 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 06:05:16,606 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 06:05:16,606 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 06:05:16,606 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 06:05:16,606 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 06:05:16,606 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 06:05:16,637 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 06:05:16,638 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 06:05:16,638 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 06:06:35,869 - INFO - app.core.security - Closing Redis connection...
2025-06-04 06:06:35,870 - INFO - app.core.security - Redis connection closed.
2025-06-04 06:06:38,411 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 06:06:38,411 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 06:06:38,489 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 06:06:38,489 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 06:06:38,489 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 06:06:38,489 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 36, 38, 489720), 'iat': datetime.datetime(2025, 6, 4, 13, 6, 38, 489727)}
2025-06-04 06:06:38,490 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0NDE5OCwiaWF0IjoxNzQ5MDQyMzk4fQ.1e8f2DddHNe7wRlr2G1cogFiwEEA7UC3beVjjjZmAgs

2025-06-04 06:07:26,715 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 06:07:26,715 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 06:07:26,716 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-04 06:07:26,719 - ERROR - app.core.security - Authentication error in get_user_from_service_or_user_token: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 358, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-04 06:07:31,632 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 06:07:31,632 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 06:07:31,632 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 06:07:31,632 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 4, 13, 37, 31, 631950), 'iat': datetime.datetime(2025, 6, 4, 13, 7, 31, 631962)}
2025-06-04 06:07:31,632 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkwNDQyNTEsImlhdCI6MTc0OTA0MjQ1MX0.xJAn2UdelN7aIhAj8BYczrAF7ss0RtaJaF_CM6aCRQs

2025-06-04 06:07:31,633 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk2NDcyNTEsImlhdCI6MTc0OTA0MjQ1MX0.PUKG76ZdK76RRD7UIC1tiZ5XE5BMMu_Ew99-c3fDGLg, Expiry (seconds): 604800
2025-06-04 06:07:31,666 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-04 06:08:27,914 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 06:08:27,914 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 06:08:27,914 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:08:27,914 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:08:27,914 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 06:08:27,914 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 06:08:27,915 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 06:08:27,915 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:08:27,915 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:08:27,915 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 06:08:27,921 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 06:08:27,922 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 06:08:27,922 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 06:10:09,636 - INFO - app.core.security - Closing Redis connection...
2025-06-04 06:10:09,637 - INFO - app.core.security - Redis connection closed.
2025-06-04 06:10:12,789 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 06:10:12,789 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 06:10:12,877 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 06:10:12,878 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 06:10:12,878 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 06:10:12,878 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 40, 12, 877912), 'iat': datetime.datetime(2025, 6, 4, 13, 10, 12, 877916)}
2025-06-04 06:10:12,878 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0NDQxMiwiaWF0IjoxNzQ5MDQyNjEyfQ.3tsQJwpjTCYPBNLlhOFD-npkAyARzenKQ3_Fu6b-TPQ

2025-06-04 06:10:22,591 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 06:10:22,591 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 06:10:22,592 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:10:22,592 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:10:22,592 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 06:10:22,592 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 06:10:22,592 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 06:10:22,592 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:10:22,592 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:10:22,592 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 06:10:22,634 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 06:10:22,635 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 06:10:22,635 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 06:21:25,414 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 06:21:25,415 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 06:21:25,416 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:21:25,416 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:21:25,416 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 06:21:25,417 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 06:21:25,417 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 06:21:25,417 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:21:25,417 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:21:25,417 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 06:21:25,432 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 06:21:25,432 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 06:21:25,433 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 21:39:46,880 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 21:39:46,880 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 21:39:46,984 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 21:39:46,984 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 21:39:46,984 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 21:39:46,984 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 5, 9, 46, 984219), 'iat': datetime.datetime(2025, 6, 5, 4, 39, 46, 984222)}
2025-06-04 21:39:46,986 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwMDE4NiwiaWF0IjoxNzQ5MDk4Mzg2fQ.lcnk3vVm4ymtKw-KyhjRPqE62PpWdfBLX7uHUlbPpNE

2025-06-04 21:42:06,393 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 21:42:06,394 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 21:42:06,394 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 21:42:06,394 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 5, 5, 12, 6, 393872), 'iat': datetime.datetime(2025, 6, 5, 4, 42, 6, 393876)}
2025-06-04 21:42:06,394 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkxMDAzMjYsImlhdCI6MTc0OTA5ODUyNn0.W1HDiZG0w2LcoBy7eq74OCz11uq6q54VMz_oQ8r--T0

2025-06-04 21:42:06,394 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk3MDMzMjYsImlhdCI6MTc0OTA5ODUyNn0.fHDlL5h0N1R7JuwmFGhtwB3bPleqHcjoEt8EXOBHq6E, Expiry (seconds): 604800
2025-06-04 21:42:06,395 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-04 21:44:56,542 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 21:44:56,542 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 21:44:56,543 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:44:56,543 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:44:56,543 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 21:44:56,548 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 21:44:56,548 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 21:45:35,356 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 21:45:35,356 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 21:45:35,356 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:45:35,356 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:45:35,356 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 21:45:35,356 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 21:45:35,356 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 21:45:35,357 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:45:35,357 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:45:35,357 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 21:45:35,361 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 21:45:35,361 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 21:45:35,361 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 21:50:31,937 - INFO - app.core.security - Closing Redis connection...
2025-06-04 21:50:31,938 - INFO - app.core.security - Redis connection closed.
2025-06-04 21:50:35,488 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 21:50:35,488 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 21:50:35,598 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 21:50:35,599 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 21:50:35,599 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 21:50:35,599 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 5, 20, 35, 598907), 'iat': datetime.datetime(2025, 6, 5, 4, 50, 35, 598913)}
2025-06-04 21:50:35,600 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwMDgzNSwiaWF0IjoxNzQ5MDk5MDM1fQ.qLKs3eOXoCSSBzgoEzovzXIN-tpuxqLwWceCCK2cyI8

2025-06-04 21:52:54,501 - INFO - app.core.security - Closing Redis connection...
2025-06-04 21:52:54,502 - INFO - app.core.security - Redis connection closed.
2025-06-04 21:52:56,542 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 21:52:56,542 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 21:52:56,622 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 21:52:56,622 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 21:52:56,622 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 21:52:56,622 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 5, 22, 56, 622673), 'iat': datetime.datetime(2025, 6, 5, 4, 52, 56, 622676)}
2025-06-04 21:52:56,623 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwMDk3NiwiaWF0IjoxNzQ5MDk5MTc2fQ.g7Nj-v7iqeQAHhVmKcnM94WejqvSfwU6hOe0kpRVdzQ

2025-06-04 21:53:00,588 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 21:53:00,588 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 21:53:00,588 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:53:00,588 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:53:00,588 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 21:53:00,588 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 21:53:00,588 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 21:53:00,589 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:53:00,589 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:53:00,589 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 21:53:00,644 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 21:53:00,645 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 21:53:00,645 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 21:55:10,294 - INFO - app.core.security - Closing Redis connection...
2025-06-04 21:55:10,295 - INFO - app.core.security - Redis connection closed.
2025-06-04 21:55:12,089 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 21:55:12,089 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 21:55:12,174 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 21:55:12,174 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 21:55:12,174 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 21:55:12,174 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 5, 25, 12, 174570), 'iat': datetime.datetime(2025, 6, 5, 4, 55, 12, 174572)}
2025-06-04 21:55:12,174 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwMTExMiwiaWF0IjoxNzQ5MDk5MzEyfQ.JWEXbw9hTiarJ2MPnE-mK28EdUg5F_MDGkfVTAneSsA

2025-06-04 21:55:36,007 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 21:55:36,007 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 21:55:36,007 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:55:36,007 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:55:36,007 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 21:55:36,007 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 21:55:36,007 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 21:55:36,007 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:55:36,007 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:55:36,007 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 21:55:36,032 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 21:55:36,032 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 21:55:36,032 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 22:00:00,010 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 22:00:00,010 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 22:00:00,010 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 22:00:00,011 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 5, 30, 0, 10734), 'iat': datetime.datetime(2025, 6, 5, 5, 0, 0, 10739)}
2025-06-04 22:00:00,011 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwMTQwMCwiaWF0IjoxNzQ5MDk5NjAwfQ.bWYn-rk7DKDgnI0noR7z28Y_6rUOa-s3EWxDEMHaYEo

2025-06-04 22:00:44,940 - INFO - app.core.security - Closing Redis connection...
2025-06-04 22:00:44,941 - INFO - app.core.security - Redis connection closed.
2025-06-04 22:00:46,758 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 22:00:46,758 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 22:00:46,847 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 22:00:46,847 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 22:00:46,847 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 22:00:46,847 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 5, 30, 46, 847003), 'iat': datetime.datetime(2025, 6, 5, 5, 0, 46, 847005)}
2025-06-04 22:00:46,847 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwMTQ0NiwiaWF0IjoxNzQ5MDk5NjQ2fQ.ptJK5a9aBYT4VGoPoSeUFbFkigjRR5AC8P9W4C3Fnqs

2025-06-04 22:30:00,016 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 22:30:00,017 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 22:30:00,017 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 22:30:00,018 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 0, 0, 16749), 'iat': datetime.datetime(2025, 6, 5, 5, 30, 0, 16764)}
2025-06-04 22:30:00,018 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwMzIwMCwiaWF0IjoxNzQ5MTAxNDAwfQ.lIVmHHJE3sYQYemt85WpIS4V1IbmnjUn5Endz8K4cIs

2025-06-04 22:32:33,414 - INFO - app.core.security - Closing Redis connection...
2025-06-04 22:32:33,415 - INFO - app.core.security - Redis connection closed.
2025-06-04 22:32:36,212 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 22:32:36,213 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 22:32:36,312 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 22:32:36,312 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 22:32:36,312 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 22:32:36,312 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 2, 36, 312317), 'iat': datetime.datetime(2025, 6, 5, 5, 32, 36, 312320)}
2025-06-04 22:32:36,312 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwMzM1NiwiaWF0IjoxNzQ5MTAxNTU2fQ.5QZXdmIYzJ8sY7JE7lhR_FwaB_NrjDvQXvecwYFvkLY

2025-06-04 22:33:07,764 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 22:33:07,764 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 22:33:07,765 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-04 22:33:07,768 - ERROR - app.core.security - Authentication error in get_user_from_service_or_user_token: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 358, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-04 22:34:01,320 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 22:34:01,320 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 22:34:01,320 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 22:34:01,320 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 5, 6, 4, 1, 319947), 'iat': datetime.datetime(2025, 6, 5, 5, 34, 1, 319953)}
2025-06-04 22:34:01,320 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkxMDM0NDEsImlhdCI6MTc0OTEwMTY0MX0.7PuEuC4PFrjrQpjCdtPp_sga2qUbkxk8ED6z6XIvP6k

2025-06-04 22:34:01,321 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk3MDY0NDEsImlhdCI6MTc0OTEwMTY0MX0.7F1gNHnnb7ZomPHINBx1ikjNJaE7AHHEAyjuMm8V3_M, Expiry (seconds): 604800
2025-06-04 22:34:01,323 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-04 22:35:04,903 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 22:35:04,903 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 22:35:04,904 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 22:35:04,904 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 22:35:04,904 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 22:35:04,904 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 22:35:04,904 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 22:35:04,904 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 22:35:04,905 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 22:35:04,905 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 22:35:04,917 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 22:35:04,917 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 22:35:04,918 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 22:37:12,145 - INFO - app.core.security - Closing Redis connection...
2025-06-04 22:37:12,146 - INFO - app.core.security - Redis connection closed.
2025-06-04 22:37:14,149 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 22:37:14,149 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 22:37:14,246 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 22:37:14,246 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 22:37:14,246 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 22:37:14,246 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 7, 14, 246026), 'iat': datetime.datetime(2025, 6, 5, 5, 37, 14, 246029)}
2025-06-04 22:37:14,246 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwMzYzNCwiaWF0IjoxNzQ5MTAxODM0fQ.ZnjSe9m3t1jR7lkQAL9WNSbG8BZDJHECFJ0W4hjnpe0

2025-06-04 22:37:42,158 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 22:37:42,158 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 22:37:42,158 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 22:37:42,158 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 22:37:42,158 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 22:37:42,158 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 22:37:42,158 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 22:37:42,158 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 22:37:42,158 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 22:37:42,158 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 22:37:42,185 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 22:37:42,185 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 22:37:42,185 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 22:39:44,205 - INFO - app.core.security - Closing Redis connection...
2025-06-04 22:39:44,205 - INFO - app.core.security - Redis connection closed.
2025-06-04 22:46:53,736 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 22:46:53,736 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 22:46:53,855 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 22:46:53,855 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 22:46:53,855 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 22:46:53,855 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 16, 53, 855108), 'iat': datetime.datetime(2025, 6, 5, 5, 46, 53, 855112)}
2025-06-04 22:46:53,855 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNDIxMywiaWF0IjoxNzQ5MTAyNDEzfQ.WWCYkY3Q2J4T1HFOkHba8gIevDUYE3ajWMpJdm6kGik

2025-06-04 22:47:29,815 - INFO - app.core.security - Closing Redis connection...
2025-06-04 22:47:29,816 - INFO - app.core.security - Redis connection closed.
2025-06-04 22:47:31,633 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 22:47:31,634 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 22:47:31,713 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 22:47:31,713 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 22:47:31,713 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 22:47:31,713 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 17, 31, 713811), 'iat': datetime.datetime(2025, 6, 5, 5, 47, 31, 713815)}
2025-06-04 22:47:31,714 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNDI1MSwiaWF0IjoxNzQ5MTAyNDUxfQ.Dc8mxMOCZX_GrUuE3r-MBBKz0OTDvIcGcehEY-QvMqE

2025-06-04 22:59:04,068 - INFO - app.core.security - Closing Redis connection...
2025-06-04 22:59:04,069 - INFO - app.core.security - Redis connection closed.
2025-06-04 22:59:06,180 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 22:59:06,181 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 22:59:06,272 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 22:59:06,273 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 22:59:06,273 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 22:59:06,273 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 29, 6, 272943), 'iat': datetime.datetime(2025, 6, 5, 5, 59, 6, 272946)}
2025-06-04 22:59:06,273 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNDk0NiwiaWF0IjoxNzQ5MTAzMTQ2fQ.bIb-RhWLMv-xBqXjp9isDdlmtDCMVzP4bNJ__bX-JI4

2025-06-04 23:00:00,012 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:00:00,013 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:00:00,013 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:00:00,013 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 30, 0, 12684), 'iat': datetime.datetime(2025, 6, 5, 6, 0, 0, 12693)}
2025-06-04 23:00:00,013 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNTAwMCwiaWF0IjoxNzQ5MTAzMjAwfQ.P3zzaCxH0If-YyoCHRi9Jp8h-eqf5NdBzwWdDBCnnmw

2025-06-04 23:00:34,085 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:00:34,086 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:00:35,966 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:00:35,967 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:00:36,079 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:00:36,079 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:00:36,079 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:00:36,080 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 30, 36, 79808), 'iat': datetime.datetime(2025, 6, 5, 6, 0, 36, 79811)}
2025-06-04 23:00:36,080 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNTAzNiwiaWF0IjoxNzQ5MTAzMjM2fQ.MX4EVIDsf5aQ0Vn8AiBpWQMSQlVX0pyEP9OHiJiZ8zk

2025-06-04 23:00:39,889 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:00:39,890 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:00:39,890 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 23:00:39,890 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 23:00:39,891 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:00:39,891 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:00:39,891 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:00:39,891 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 23:00:39,891 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 23:00:39,892 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:00:39,999 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:00:40,000 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:00:40,000 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:06:21,929 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:06:21,930 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:06:24,200 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:06:24,200 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:06:24,286 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:06:24,286 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:06:24,286 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:06:24,286 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 36, 24, 286119), 'iat': datetime.datetime(2025, 6, 5, 6, 6, 24, 286122)}
2025-06-04 23:06:24,286 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNTM4NCwiaWF0IjoxNzQ5MTAzNTg0fQ.nHI1RkFf5uVLYo2R3Xd0-H5z9rq2AKJUFF0enDI7MzE

2025-06-04 23:07:40,103 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:07:40,103 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:07:41,944 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:07:41,944 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:07:42,053 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:07:42,053 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:07:42,053 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:07:42,053 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 37, 42, 53361), 'iat': datetime.datetime(2025, 6, 5, 6, 7, 42, 53364)}
2025-06-04 23:07:42,053 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNTQ2MiwiaWF0IjoxNzQ5MTAzNjYyfQ.jFVIxtlLm4RUOD6Y2hhFfpRxoJo1Ucf0tG06vCYd5f4

2025-06-04 23:08:42,365 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:08:42,366 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:08:44,243 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:08:44,243 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:08:44,311 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:08:44,311 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:08:44,311 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:08:44,311 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 38, 44, 311177), 'iat': datetime.datetime(2025, 6, 5, 6, 8, 44, 311180)}
2025-06-04 23:08:44,311 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNTUyNCwiaWF0IjoxNzQ5MTAzNzI0fQ.ZcfiNVKKjUkHdZBjRpm3gC2L5hDvPL4yKls6i2pSBuY

2025-06-04 23:10:07,278 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:10:07,279 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:10:07,279 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-04 23:10:07,280 - ERROR - app.core.security - Authentication error in get_user_from_service_or_user_token: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 358, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-04 23:10:11,293 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:10:11,293 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:10:11,294 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:10:11,294 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 5, 6, 40, 11, 293508), 'iat': datetime.datetime(2025, 6, 5, 6, 10, 11, 293520)}
2025-06-04 23:10:11,294 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkxMDU2MTEsImlhdCI6MTc0OTEwMzgxMX0.lp-G2KcV8t2WmK-ztKwviyxfu3OJlzR63RvH1cgTs4A

2025-06-04 23:10:11,294 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk3MDg2MTEsImlhdCI6MTc0OTEwMzgxMX0.0m8xd5Mh70hIj5fkKsInsagw7Xzyb78JhxLWRJRNYQk, Expiry (seconds): 604800
2025-06-04 23:10:11,296 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-04 23:10:35,766 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:10:35,766 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:10:35,766 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:10:35,767 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:10:35,767 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:10:35,767 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:10:35,767 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:10:35,767 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:10:35,767 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:10:35,767 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:10:35,774 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:10:35,775 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:10:35,775 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:11:16,736 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:11:16,737 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:11:19,083 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:11:19,084 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:11:19,204 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:11:19,204 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:11:19,204 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:11:19,204 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 41, 19, 204671), 'iat': datetime.datetime(2025, 6, 5, 6, 11, 19, 204675)}
2025-06-04 23:11:19,205 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNTY3OSwiaWF0IjoxNzQ5MTAzODc5fQ.A35ylha0J-Y9eJ9nyEY_RZs7YXyDXtCyhdQr5NM37tM

2025-06-04 23:11:25,475 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:11:25,475 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:11:25,476 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:11:25,476 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:11:25,476 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:11:25,477 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:11:25,477 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:11:25,477 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:11:25,477 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:11:25,477 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:11:25,546 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:11:25,546 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:11:25,546 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:14:37,750 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:14:37,751 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:14:39,849 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:14:39,850 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:14:39,943 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:14:39,943 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:14:39,943 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:14:39,943 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 44, 39, 943696), 'iat': datetime.datetime(2025, 6, 5, 6, 14, 39, 943699)}
2025-06-04 23:14:39,944 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNTg3OSwiaWF0IjoxNzQ5MTA0MDc5fQ.yAgg1iTD0NP0E7mp88kv2yDzOyivL8wVGSDg3-WVaZg

2025-06-04 23:14:42,251 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:14:42,252 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:14:44,185 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:14:44,185 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:14:44,290 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:14:44,290 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:14:44,290 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:14:44,290 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 44, 44, 290344), 'iat': datetime.datetime(2025, 6, 5, 6, 14, 44, 290346)}
2025-06-04 23:14:44,290 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNTg4NCwiaWF0IjoxNzQ5MTA0MDg0fQ.yyv971jCpcjqbQFkWT61dlnX2ANyW0ew6c5hH1zQOsI

2025-06-04 23:15:10,572 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:15:10,573 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:15:10,573 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:15:10,574 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:15:10,574 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:15:10,574 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:15:10,574 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:15:10,574 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:15:10,574 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:15:10,574 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:15:10,656 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:15:10,657 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:15:10,657 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:16:37,863 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:16:37,863 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:16:39,938 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:16:39,938 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:16:40,033 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:16:40,033 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:16:40,033 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:16:40,033 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 46, 40, 33449), 'iat': datetime.datetime(2025, 6, 5, 6, 16, 40, 33451)}
2025-06-04 23:16:40,033 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjAwMCwiaWF0IjoxNzQ5MTA0MjAwfQ.dh3Wig7h65iBJErCLWbBdrvJ2fsdHtXkeJVGyI6SdCw

2025-06-04 23:16:45,182 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:16:45,182 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:16:45,183 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:16:45,183 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:16:45,183 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:16:45,184 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:16:45,184 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:16:45,184 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:16:45,185 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:16:45,185 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:16:45,305 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:16:45,305 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:16:45,306 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:20:36,344 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:20:36,345 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:25:01,429 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:25:01,429 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:25:01,525 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:25:01,525 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:25:01,525 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:25:01,525 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 55, 1, 525125), 'iat': datetime.datetime(2025, 6, 5, 6, 25, 1, 525127)}
2025-06-04 23:25:01,525 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjUwMSwiaWF0IjoxNzQ5MTA0NzAxfQ.R_Sch3PfywrMmPt6_u1ZLagSsuzzPoFUmDLBm8mS864

2025-06-04 23:25:13,946 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:25:13,947 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:25:15,768 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:25:15,768 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:25:15,835 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:25:15,835 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:25:15,835 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:25:15,835 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 55, 15, 835157), 'iat': datetime.datetime(2025, 6, 5, 6, 25, 15, 835162)}
2025-06-04 23:25:15,835 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjUxNSwiaWF0IjoxNzQ5MTA0NzE1fQ.OTeZhqNRMuYY2BcULy2V0GxebIb1wXqektm4-_-cnsc

2025-06-04 23:25:20,862 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:25:20,862 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:25:20,862 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:25:20,862 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:25:20,863 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:25:20,863 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:25:20,863 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:25:20,863 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:25:20,863 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:25:20,864 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:25:20,942 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:25:20,942 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:25:20,942 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:26:04,516 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:26:04,517 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:26:06,691 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:26:06,691 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:26:06,803 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:26:06,803 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:26:06,803 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:26:06,803 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 56, 6, 803587), 'iat': datetime.datetime(2025, 6, 5, 6, 26, 6, 803592)}
2025-06-04 23:26:06,804 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjU2NiwiaWF0IjoxNzQ5MTA0NzY2fQ.jYlsZMZn0R5QWqgAQk03A_VmNENzZpPYRphyttf5M_0

2025-06-04 23:27:20,733 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:27:20,733 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:27:22,757 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:27:22,757 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:27:22,839 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:27:22,839 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:27:22,839 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:27:22,839 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 57, 22, 839119), 'iat': datetime.datetime(2025, 6, 5, 6, 27, 22, 839124)}
2025-06-04 23:27:22,839 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjY0MiwiaWF0IjoxNzQ5MTA0ODQyfQ.zcA6_Fw7pvaOk-lZsvuWSmRRuzk8VPSIzBnoh2OySXQ

2025-06-04 23:28:08,818 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:28:08,818 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:28:08,818 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:28:08,818 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:28:08,819 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:28:08,819 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:28:08,819 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:28:08,819 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:28:08,819 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:28:08,819 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:28:08,858 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:28:08,858 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:28:08,859 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:28:25,126 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:28:25,127 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:28:27,249 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:28:27,249 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:28:27,312 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:28:27,312 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:28:27,312 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:28:27,313 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 58, 27, 312833), 'iat': datetime.datetime(2025, 6, 5, 6, 28, 27, 312836)}
2025-06-04 23:28:27,313 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjcwNywiaWF0IjoxNzQ5MTA0OTA3fQ.cnxIZPjX3CsFa6A9t43aMwxPGVSVWFU0LHO7vlO6-xo

2025-06-04 23:30:00,007 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:30:00,008 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:30:00,008 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:30:00,008 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 0, 0, 7857), 'iat': datetime.datetime(2025, 6, 5, 6, 30, 0, 7864)}
2025-06-04 23:30:00,009 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjgwMCwiaWF0IjoxNzQ5MTA1MDAwfQ.1-9F-yvYtsUgihSuPperEhPoKkV7NIRxqUR9QMdXF3o

2025-06-04 23:32:34,034 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:32:34,035 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:32:35,851 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:32:35,851 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:32:35,952 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:32:35,953 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:32:35,953 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:32:35,953 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 2, 35, 952946), 'iat': datetime.datetime(2025, 6, 5, 6, 32, 35, 952948)}
2025-06-04 23:32:35,953 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjk1NSwiaWF0IjoxNzQ5MTA1MTU1fQ.w7iL3eR9wXbDqPN6wIbh28mIt5AUgy-WHJxtS2hMtfY

2025-06-04 23:32:47,881 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:32:47,881 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:32:49,789 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:32:49,790 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:32:49,879 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:32:49,879 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:32:49,879 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:32:49,879 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 2, 49, 879173), 'iat': datetime.datetime(2025, 6, 5, 6, 32, 49, 879176)}
2025-06-04 23:32:49,879 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjk2OSwiaWF0IjoxNzQ5MTA1MTY5fQ.iPsz2LnOXAVrnP4m63OQFYbclUvoZInXkmMj-RUlg_o

2025-06-04 23:33:01,703 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:33:01,704 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:33:03,565 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:33:03,565 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:33:03,673 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:33:03,673 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:33:03,673 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:33:03,673 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 3, 3, 673331), 'iat': datetime.datetime(2025, 6, 5, 6, 33, 3, 673334)}
2025-06-04 23:33:03,673 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjk4MywiaWF0IjoxNzQ5MTA1MTgzfQ.KW7VLHMgy34VYBAYPhsrFet17gp4XFG43YZDmtSTqd4

2025-06-04 23:33:15,485 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:33:15,486 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:34:15,498 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:34:15,498 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:34:15,625 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:34:15,625 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:34:15,625 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:34:15,625 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 4, 15, 625618), 'iat': datetime.datetime(2025, 6, 5, 6, 34, 15, 625620)}
2025-06-04 23:34:15,626 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNzA1NSwiaWF0IjoxNzQ5MTA1MjU1fQ.hJkIKLUqP2ziBt6Az5P3cr9oBzWn4ei1uhj8EmZpMJE

2025-06-04 23:34:26,692 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:34:26,693 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:34:28,935 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:34:28,935 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:34:29,055 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:34:29,055 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:34:29,055 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:34:29,055 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 4, 29, 55731), 'iat': datetime.datetime(2025, 6, 5, 6, 34, 29, 55734)}
2025-06-04 23:34:29,056 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNzA2OSwiaWF0IjoxNzQ5MTA1MjY5fQ.pzWacwEBe0vbDgdh6l6cKGArrmjGxuL2A-_t5EC9vMs

2025-06-04 23:35:49,589 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:35:49,589 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:35:51,673 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:35:51,673 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:35:51,741 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:35:51,741 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:35:51,741 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:35:51,741 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 5, 51, 741285), 'iat': datetime.datetime(2025, 6, 5, 6, 35, 51, 741289)}
2025-06-04 23:35:51,741 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNzE1MSwiaWF0IjoxNzQ5MTA1MzUxfQ.wnkoeY67Nth1s_REiNahxR5LOBaGLJUyI8h_XdWQff8

2025-06-04 23:36:41,226 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:36:41,226 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:36:41,226 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:36:41,226 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:36:41,226 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:36:41,226 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:36:41,226 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:36:41,227 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:36:41,227 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:36:41,227 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:36:41,277 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:36:41,278 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:36:41,278 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:43:11,106 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:43:11,107 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:43:11,114 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-04 23:43:11,119 - ERROR - app.core.security - Authentication error in get_user_from_service_or_user_token: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 358, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-04 23:43:15,067 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:43:15,067 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:43:15,073 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:43:15,074 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 5, 7, 13, 15, 67105), 'iat': datetime.datetime(2025, 6, 5, 6, 43, 15, 67115)}
2025-06-04 23:43:15,075 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkxMDc1OTUsImlhdCI6MTc0OTEwNTc5NX0.SBn2gPw2GPScpVpbhMCtmszac93Vq-DiOBliWE_G79s

2025-06-04 23:43:15,076 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk3MTA1OTUsImlhdCI6MTc0OTEwNTc5NX0.4Ji0i1BVrBpIKmIVUPs2XbTZFTOZhEyr7Og7OBd19dE, Expiry (seconds): 604800
2025-06-04 23:43:15,079 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-04 23:43:29,883 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:43:29,883 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:43:29,884 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:43:29,884 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:43:29,884 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:43:29,884 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:43:29,884 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:43:29,885 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:43:29,885 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:43:29,885 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:43:29,891 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:43:29,891 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:43:29,891 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:44:09,758 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:44:09,762 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:44:12,500 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:44:12,500 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:44:12,592 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:44:12,592 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:44:12,592 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:44:12,592 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 14, 12, 592236), 'iat': datetime.datetime(2025, 6, 5, 6, 44, 12, 592241)}
2025-06-04 23:44:12,592 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNzY1MiwiaWF0IjoxNzQ5MTA1ODUyfQ.OnAOk30eyUfuFw8UX_Tc7RBbcYG4rWn0Py892w9QyIY

2025-06-04 23:44:21,699 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:44:21,700 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:44:21,700 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:44:21,700 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:44:21,700 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:44:21,700 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:44:21,700 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:44:21,700 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:44:21,700 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:44:21,700 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:44:21,733 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:44:21,733 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:44:21,733 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:46:32,592 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:46:32,593 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:46:34,731 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:46:34,731 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:46:34,845 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:46:34,845 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:46:34,845 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:46:34,845 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 16, 34, 845011), 'iat': datetime.datetime(2025, 6, 5, 6, 46, 34, 845015)}
2025-06-04 23:46:34,845 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNzc5NCwiaWF0IjoxNzQ5MTA1OTk0fQ.l34D4yoEkXz8DJHpW6jv3MWa8072iFssEHP2-Ct1TpA

2025-06-04 23:46:39,554 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:46:39,554 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:46:41,693 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:46:41,693 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:46:41,759 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:46:41,759 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:46:41,759 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:46:41,759 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 16, 41, 759421), 'iat': datetime.datetime(2025, 6, 5, 6, 46, 41, 759426)}
2025-06-04 23:46:41,760 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNzgwMSwiaWF0IjoxNzQ5MTA2MDAxfQ.Nl36xAL0VdZGtCCRtaCG3nfSiqhbPO62_XNtmMF2NsY

2025-06-04 23:47:09,530 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:47:09,530 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:47:09,530 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:47:09,530 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:47:09,531 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:47:09,531 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:47:09,531 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:47:09,531 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:47:09,531 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:47:09,531 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:47:09,566 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:47:09,566 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:47:09,566 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:51:54,526 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:51:54,527 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:51:56,641 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:51:56,641 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:51:56,749 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:51:56,749 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:51:56,749 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:51:56,749 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 21, 56, 749392), 'iat': datetime.datetime(2025, 6, 5, 6, 51, 56, 749394)}
2025-06-04 23:51:56,749 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwODExNiwiaWF0IjoxNzQ5MTA2MzE2fQ.vkFuQlKhTITX7VV0NmOpKtj-zm1ekZsrGDJTEWzdqRw

2025-06-04 23:52:32,991 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:52:32,991 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:52:32,991 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:52:32,992 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:52:32,992 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:52:32,992 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:52:32,992 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:52:32,992 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:52:32,992 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:52:32,992 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:52:33,024 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:52:33,024 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:52:33,024 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:54:07,877 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:54:07,877 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:54:07,878 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:54:07,878 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:54:07,878 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:54:07,878 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:54:07,878 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:54:07,879 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:54:07,879 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:54:07,879 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:54:07,886 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:54:07,886 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:54:07,887 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:54:54,376 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:54:54,377 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:54:56,480 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:54:56,481 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:54:56,559 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:54:56,559 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:54:56,559 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:54:56,559 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 24, 56, 559361), 'iat': datetime.datetime(2025, 6, 5, 6, 54, 56, 559365)}
2025-06-04 23:54:56,559 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwODI5NiwiaWF0IjoxNzQ5MTA2NDk2fQ.4bmTTexsQuTbTnqgUXaAjwatBFKAML69PfIPC_9IK6M

2025-06-04 23:56:05,195 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:56:05,196 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:56:05,196 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:56:05,196 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:56:05,197 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:56:05,197 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:56:05,197 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:56:05,197 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:56:05,197 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:56:05,197 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:56:05,274 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:56:05,274 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:56:05,275 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 00:00:00,015 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 00:00:00,015 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 00:00:00,015 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 00:00:00,015 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 30, 0, 15192), 'iat': datetime.datetime(2025, 6, 5, 7, 0, 0, 15199)}
2025-06-05 00:00:00,015 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwODYwMCwiaWF0IjoxNzQ5MTA2ODAwfQ.UGgEb1YhMZfQ2WiyEDIH1a6_RE5ev7RDPdeVumBHkxo

2025-06-05 00:01:13,043 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 00:01:13,043 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 00:01:13,043 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 00:01:13,043 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 5, 7, 31, 13, 43141), 'iat': datetime.datetime(2025, 6, 5, 7, 1, 13, 43149)}
2025-06-05 00:01:13,044 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkxMDg2NzMsImlhdCI6MTc0OTEwNjg3M30.PvHgXFbSSMiFwx69rrPkYfQBtvtYJ_m1rMU4j1ytQsw

2025-06-05 00:01:13,044 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk3MTE2NzMsImlhdCI6MTc0OTEwNjg3M30.QhiC5Tnu8ncOxVMTzZAcPk49K2hgLpluiDEQw4PVDjo, Expiry (seconds): 604800
2025-06-05 00:01:13,045 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-05 00:01:30,902 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 00:01:30,902 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 00:01:30,902 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749108673, 'iat': 1749106873}
2025-06-05 00:01:30,902 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749108673, 'iat': 1749106873}
2025-06-05 00:01:30,902 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-05 00:01:30,912 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-05 00:01:30,912 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 00:01:50,083 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 00:01:50,084 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 00:01:50,084 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749108673, 'iat': 1749106873}
2025-06-05 00:01:50,084 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749108673, 'iat': 1749106873}
2025-06-05 00:01:50,084 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-05 00:01:50,093 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-05 00:01:50,093 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 00:02:02,836 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 00:02:02,836 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 00:02:02,837 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749108673, 'iat': 1749106873}
2025-06-05 00:02:02,837 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749108673, 'iat': 1749106873}
2025-06-05 00:02:02,837 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-05 00:02:02,845 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-05 00:02:02,846 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 00:02:51,064 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 00:02:51,064 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 00:02:51,065 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749108673, 'iat': 1749106873}
2025-06-05 00:02:51,065 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749108673, 'iat': 1749106873}
2025-06-05 00:02:51,065 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-05 00:02:51,071 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-05 00:02:51,072 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
